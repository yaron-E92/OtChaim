<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:emergency="clr-namespace:OtChaim.Presentation.MAUI.Pages.Tool"
             xmlns:viewModels="clr-namespace:OtChaim.Presentation.MAUI.ViewModels.Tool"
             xmlns:controls="clr-namespace:OtChaim.Presentation.MAUI.Controls"
             x:Class="OtChaim.Presentation.MAUI.Pages.Tool.ToolTabPage"
             x:DataType="viewModels:ToolTabViewModel"
             BackgroundColor="{StaticResource Secondary}">

    <Grid RowDefinitions="Auto,Auto,*" ColumnDefinitions="*" Padding="0,0,0,10">
        
        <!-- Main Header (Primary Background) -->
        <Grid Grid.Row="0" ColumnDefinitions="Auto,*,Auto" 
              Padding="15,10,15,10"
              HeightRequest="80">
            
            <!-- COM-MIT Logo (Left) -->
            <Image Grid.Column="0"
                   Source="commit_logo.png"
                   WidthRequest="120"
                   HeightRequest="90"
                   HorizontalOptions="Start"
                   VerticalOptions="Center"
                   Aspect="AspectFit"
                   Margin="0,30,0,0"
                   />
            
            
            <!-- Profile Picture (Right) -->
            <Frame Grid.Column="2" 
                   BackgroundColor="{StaticResource Magenta}"
                   CornerRadius="30"
                   WidthRequest="60"
                   HeightRequest="60"
                   HorizontalOptions="End"
                   VerticalOptions="Center"
                   Margin="0,5,5,0">

            </Frame>
        </Grid>
        
        <!-- Navigation Bar (White Background) -->
        <Frame Grid.Row="1" 
               BackgroundColor="{StaticResource Tertiary}"
               CornerRadius="31"
               Margin="15,10,15,10"
               HeightRequest="62"
               Padding="0"
               BorderColor="{StaticResource OffBlack}">
            
            <Grid ColumnDefinitions="auto,*,auto">
                
                <!-- Left Arrow -->
                <Frame Grid.Column="0" 
                       BackgroundColor="{StaticResource White}"
                       CornerRadius="30"
                       WidthRequest="60"
                       HeightRequest="60"
                       Padding="0"
                       BorderColor="Transparent">
                    <Image Source="right_outlined_arrow.svg" 
                           WidthRequest="60" 
                           HeightRequest="60"
                           Rotation="180"
                           HorizontalOptions="Center"
                           VerticalOptions="Center">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding PreviousPageCommand}" />
                        </Image.GestureRecognizers>
                    </Image>
                </Frame>
                
                <!-- Center Title -->
                <Label Grid.Column="1" 
                       Text="{Binding CurrentPageTitle}"
                       FontSize="26"
                       FontAttributes="Bold"
                       TextColor="{StaticResource Black}"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       LineBreakMode="NoWrap"
                       Margin="10,0" />
                
                <!-- Right Arrow -->
                <Frame Grid.Column="2" 
                       BackgroundColor="{StaticResource White}"
                       CornerRadius="30"
                       WidthRequest="60"
                       HeightRequest="60"
                       Padding="0"
                       BorderColor="Transparent">
                    <Image Source="right_outlined_arrow.svg" 
                           WidthRequest="60" 
                           HeightRequest="60"
                           HorizontalOptions="Center"
                           VerticalOptions="Center">
                        <Image.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NextPageCommand}" />
                        </Image.GestureRecognizers>
                    </Image>
                </Frame>
            </Grid>
        </Frame>
        
        <!-- Content Area with Current Page -->
        <Grid Grid.Row="2" 
              x:Name="ContentGrid"
              VerticalOptions="FillAndExpand"
              HorizontalOptions="FillAndExpand" />

    </Grid>

</ContentPage>
